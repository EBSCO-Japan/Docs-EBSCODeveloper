# Publication IQ

## イントロダクション

EBSCO Knowledge Servicesは、図書館やベンダーパートナーが重要な部分を既存のプロセスやシステムに統合できるように設計された、サブスクリプションによって利用可能な統合ソリューション・スイートです。 PublicationIQサービスは、お客様のコレクションの一部として指定された出版物を検索する機能を提供します。 それは、タイトル属性（タイトル名、主題、isxnまたは出版社）により出版物を検索する機能を提供する。 応答には、タイトルに関する情報、および関連する顧客、パッケージ、ベンダーのデータが含まれます。PublicationIQはまた、指定された顧客のパッケージとタイトル数を検索する機能を提供します。

PublicationIQを使用して、図書館自動化システムのパートナーは、独自の出版物検索の実装を構築することができます。

このセクションでは、PublicationIQのコア・コンセプトの概要を説明します。 RESTful APIを使用したことがある方なら、ここで説明するコンセプトの多くに馴染みがあることでしょう。

## 環境

サンドボックス環境と本番環境に対応しています。 サンドボックス環境では、お客様のAPIクライアントコードをテストすることができます。 PublicationIQの場合、サンドボックス環境にアクセスするためには、Publication Finderの顧客プロファイルが必要です。 サンドボックスは、安全な環境でさまざまなAPI機能をテストするために使用できます。 テストや開発は、すべてサンドボックス環境で行ってください。

ご注意：PublicationIQへのアクセスには、Publication Finderのカスタマープロファイルが必要です。 プロファイルのパスワードは任意です。 パスワードが提供される場合、それはPublication Finder顧客プロファイルに割り当てられた有効なパスワードである必要があります。 パスワードが省略された場合、リクエストを行う環境でPublication Finderカスタマー・プロファイルがゲスト・アクセスを許可している場合にのみ、リクエストは承認されます。 たとえば、サンドボックス環境でパスワードなしでPublicationIQにリクエストを行いたい場合、サンドボックス環境のPublication Finder顧客プロファイルでゲストアクセスを有効にする必要があります。 本番環境でも同様です。 PublicationIQのサンドボックス環境にアクセスするためには、EBSCOカスタマーサポートにお問い合わせください。


### サンドボックス環境に対するPublicationIQのリクエスト

```HTTP
https://sandbox.ebsco.io/pf/pfaccount
```

### 本番環境に対するPublicationIQのリクエスト
```HTTP
https://api.ebsco.io/pf/pfaccount
```

## 認証

PublicationIQへのすべてのリクエストには、有効なPublication Finderカスタマー・プロファイルが含まれている必要があります。 プロファイルのパスワードは任意です。 パスワードが提供される場合、それはPublication Finder顧客プロファイルに割り当てられた有効なパスワードである必要があります。 パスワードが省略された場合、リクエストを行う環境でPublication Finder顧客プロファイルがゲストアクセスを許可している場合にのみ、リクエストは承認されます。 たとえば、サンドボックス環境でパスワードなしでPublicationIQにリクエストを行いたい場合、サンドボックス環境のPublication Finder顧客プロファイルでゲストアクセスを有効にする必要があります。 本番環境でも同様です。 PublicationIQのサンドボックス環境にアクセスするためには、EBSCOカスタマーサポートにお問い合わせください。

Publication Finderの顧客プロファイルは、pathパラメータとして指定するため、以下のように指定する必要があります。

profile {customerid.groupid.profileid}という形式の文字列で、固有の顧客プロファイルを指定します。


### サンドボックス環境

```HTTP
https://sandbox.ebsco.io/pf/pfaccount/{profile}/...
```

### 本番環境

```HTTP
https://api.ebsco.io/pf/pfaccount/{profile}/...
```

PublicationIQの認証に関する追加情報を請求して、お客様のシステムでPublicationIQのサブスクリプションをどのように利用できるかをさらに評価することができます。

[追加情報をリクエスト](https://www.ebsco.com/request-information)

PublicationIQのリクエストには、必ず有効なPublication Finderの顧客プロファイルを添付してください。


## レスポンスとエラーコード

### HTTPレスポンスコード
EBSCO Knowledge Servicesは、各リクエストに対してHTTPレスポンスコードを返します。ナレッジサービスは、リクエストの成功または失敗を示すために、従来のHTTPレスポンスコードを使用します。400の範囲のレスポンスコードは、リクエストで提供された情報にエラーがあることを示します。たとえば、提供された情報に必須パラメーターがない場合、サービスから 404 HTTP レスポンスコードが返されます。500のレスポンスコードは、サーバーのエラー、データベースのエラー、APIの設定エラーなどを示します。HTTPレスポンスコードは以下のとおりです。

レスポンスコード


| CODE | TEXT | RETRY | DESCRIPTION |
| ------------- | ------------- | ------------- | ------------- |
| 200 | OK | Yes | すべて期待通りに動作しました。|
| 202 | Accepted | Yes | リクエストを処理するために受け入れられましたが、処理は完了していません。 |
| 204 | No Content | Yes | Tサーバーは PUT リクエストを正常に実行し、応答ペイロードボディに送信する追加コンテンツはありません。 |
| 400 | Bad Request | No | 不正な構文のため、サーバーはリクエストを理解できませんでした。クライアントはそのリクエストを修正せずに繰り返してはなりません(SHOULD NOT)。 |
| 403 | Forbidden | No | リクエストは理解できますが、IPホワイトリストポリシーのためアクセスが許可されません。 |
| 404 | Not found | No | 要求された URI は無効です。要求されたフォーマットが要求されたメソッドでサポートされていない場合にも返されます。 |
| 409 | Conflict | Yes | リソースの現在の状態とコンフリクトがあるため、リクエストを完了できませんでした。 |
| 429 | Too Many Requests | Yes | リソースに対するアプリケーションのレート制限を超えたため、リクエストに対応できない場合に返却されます。 |
| 500 | Internal Server Error | Yes | 何かが壊れています。後でもう一度お試しいただくか、EBSCOカスタマーサービス（support@ebsco.com）までご連絡ください。 |
| 503 | Service Unavailable Exception | Yes | サーバーは起動していますが、要求が多すぎて負荷がかかっています。後でもう一度お試しいただくか、EBSCOカスタマーサービス（support@ebsco.com）までご連絡ください。 |
| 504 | Endpoint Request Timed-out Exception | Yes | サーバーは稼働していますが、サーバーに何らかの障害が発生したため、リクエストに対応することができませんでした。後でもう一度お試しいただくか、EBSCOカスタマーサービス（support@ebsco.com）までご連絡ください。 |

### エラーレスポンスメッセージ

EBSCO Knowledge Services は、エラーに関する追加情報を提供するエラーメッセージも返します。エラーメッセージは JSON 形式で返されます。エラーメッセージは、エラーコード、メッセージ、サブコードを含みます。エラーメッセージは、説明的なエラーテキストと、機械解析可能なコードを提供します。サブコードフィールドはオプションのフィールドである。サブコードは、エラーに関するより細かい詳細を示すために使用することができます。エラーメッセージのメッセージテキストは変わることがありますが、 コードが表すエラーは同じままです。エラーメッセージの例を以下に示します。

エラーメッセージ

```JSON
{
  "Errors": [
    {
      "Code": 1005,
      "Message": "Parameter Offset is missing.",
      "SubCode": 0
    }
  ]
}

```

###　エラーコード
| CODE | SUB CODE | HTTP CODE | TEXT(SAMPLE ERROR MESSAGE) | DESCRIPTION |
| ------------- | ------------- | ------------- | ------------- | ------------- |
| 1001 | | 404 | Vendor not found | 指定されたリソースが見つかりませんでした |
| 1004 | | 500 | Internal error has occurred. | 不明な内部エラーが発生しました |
| 1005 | | 400 | Missing parameter "count" | 必須パラメータの欠落 |
| 1006 | | 400 | Parameter count is outside the range 1-100 | 無効なパラメータを受信した |
| 1009 | | 400 | Custom package with the provided name already exists | 指定されたリソースは既に存在します |
| 1010 | | 409 | Snapshot preparation already in progress | リソースのコンフリクト |